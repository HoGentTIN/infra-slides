<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Bert Van Vreckem">
  <title>Basic commands for Enterprise Linux 8</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/dist/reset.css">
  <link rel="stylesheet" href="reveal.js/dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: 1;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="reveal.js/dist/theme/hogent.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Basic commands for Enterprise Linux 8</h1>
  <p class="subtitle">Infrastructure Automation<br/>HOGENT applied
computer science</p>
  <p class="author">Bert Van Vreckem</p>
  <p class="date">2021-2022</p>
</section>

<section>
<section id="intro" class="title-slide slide level1">
<h1>Intro</h1>

</section>
<section id="what-is-enterprise-linux" class="slide level2">
<h2>What is Enterprise Linux?</h2>
<ul>
<li><a href="https://www.redhat.com/en">RedHat</a>-compatible Linux
distro
<ul>
<li>RHEL = RedHat Enterprise Linux</li>
</ul></li>
<li><a href="https://almalinux.org/">AlmaLinux</a></li>
<li><a href="https://centos.org/">CentOS</a></li>
<li><a href="https://www.oracle.com/linux/">Oracle Linux</a></li>
<li><a href="https://rockylinux.org/">Rocky Linux</a></li>
<li><a href="https://scientificlinux.org/">Scientific Linux</a></li>
<li>…</li>
</ul>
</section>
<section id="redhat-family-tree" class="slide level2">
<h2>RedHat family tree</h2>
<p><img
data-src="https://upload.wikimedia.org/wikipedia/commons/a/a3/Redhat_family_tree_11-06.png" /></p>
</section>
<section id="redhat-development-stream" class="slide level2">
<h2>RedHat development stream</h2>
<p><strong>Fedora → CentOS → RedHat → AlmaLinux/Rocky</strong></p>
<ul>
<li><strong>Fedora</strong>: release elke 6m</li>
<li><strong>CentOS</strong>: rolling release</li>
<li><strong>RedHat</strong>: stabiele releases, meerdere jaren
<ul>
<li>Support-contract verplicht!</li>
</ul></li>
<li><strong>AlmaLinux/Rocky</strong>: community-projecten
<ul>
<li>Byte-compatible</li>
<li>Zonder support (gratis)</li>
</ul></li>
</ul>
</section>
<section id="agenda" class="slide level2">
<h2>Agenda</h2>
<ul>
<li>Network settings (<code>ip</code>)</li>
<li>Managing services (<code>systemctl</code>)</li>
<li>Show system logs (<code>journalctl</code>)</li>
<li>Show sockets (<code>ss</code>)</li>
<li>Firewall configuration (<code>firewalld</code>)</li>
</ul>
<p><strong>Interrupt me if you have remarks/questions!</strong></p>
</section>
<section id="demo-environment" class="slide level2">
<h2>Demo environment</h2>
<p>Code: see <a href="https://github.com/HoGentTIN/infra-demo/"
class="uri">https://github.com/HoGentTIN/infra-demo/</a></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Host</th>
<th style="text-align: left;">IP</th>
<th style="text-align: left;">Service</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>web</code></td>
<td style="text-align: left;">192.168.56.72</td>
<td style="text-align: left;">webserver (Apache)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>db</code></td>
<td style="text-align: left;">192.168.56.73</td>
<td style="text-align: left;">MariaDB database</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>ns1</code></td>
<td style="text-align: left;">192.168.56.10</td>
<td style="text-align: left;">DNS server (BIND)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ns2</code></td>
<td style="text-align: left;">192.168.56.11</td>
<td style="text-align: left;">DNS server</td>
</tr>
</tbody>
</table>
</section>
<section id="for-now-only-start-db" class="slide level2">
<h2>For now, only start <code>db</code></h2>
<pre class="console"><code>$ git clone https://github.com/HoGentTIN/infra-demo.git
$ cd infra-demo/troubleshooting
$ vagrant status
Current machine states:

db                        not created (virtualbox)
web                       not created (virtualbox)
ns1                       not created (virtualbox)
ns2                       not created (virtualbox)
fs                        not created (virtualbox)

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
$ vagrant up db
[...]
$ vagrant ssh db</code></pre>
</section></section>
<section>
<section id="network-settings" class="title-slide slide level1">
<h1>Network settings</h1>

</section>
<section id="ip" class="slide level2">
<h2><code>ip</code></h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NIC status</td>
<td style="text-align: left;"><code>ip link</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">IP addresses</td>
<td style="text-align: left;"><code>ip address</code>,
<code>ip a</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">for specific device</td>
<td style="text-align: left;"><code>ip a show dev em1</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Routing info</td>
<td style="text-align: left;"><code>ip route</code>,
<code>ip r</code></td>
</tr>
</tbody>
</table>
</section>
<section id="example" class="slide level2">
<h2>Example</h2>
<pre class="console"><code>$ ip l
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:54:3d:f0 brd ff:ff:ff:ff:ff:ff
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:f3:ff:26 brd ff:ff:ff:ff:ff:ff</code></pre>
</section>
<section class="slide level2">

<pre class="console"><code>$ ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 08:00:27:54:3d:f0 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 86285sec preferred_lft 86285sec
    inet6 fe80::bb30:a03:db03:2918/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 08:00:27:f3:ff:26 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.73/24 brd 192.168.56.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fef3:ff26/64 scope link 
       valid_lft forever preferred_lft forever</code></pre>
</section>
<section id="configuration" class="slide level2">
<h2>Configuration</h2>
<ul>
<li>Config files:
<code>/etc/sysconfig/network-scripts/ifcfg-*</code></li>
<li>After change, restart <code>network.service</code> (see below)</li>
</ul>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/sysconfig/network-scripts/ifcfg-eth0</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="va">DEVICE</span><span class="op">=</span>eth0</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="va">ONBOOT</span><span class="op">=</span>yes</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="va">BOOTPROTO</span><span class="op">=</span>dhcp</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># /etc/sysconfig/network-scripts/ifcfg-eth1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="va">DEVICE</span><span class="op">=</span>eth1</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="va">ONBOOT</span><span class="op">=</span>yes</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="va">BOOTPROTO</span><span class="op">=</span>none</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="va">IPADDR</span><span class="op">=</span>192.168.56.73</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="va">NETMASK</span><span class="op">=</span>255.255.255.0</span></code></pre></div>
</section></section>
<section>
<section id="managing-services-with-systemctl"
class="title-slide slide level1">
<h1>Managing services with <code>systemctl</code></h1>

</section>
<section id="systemctl" class="slide level2">
<h2><code>systemctl</code></h2>
<p><code>systemctl COMMAND [OPTION]... NAME</code></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Status service</td>
<td style="text-align: left;"><code>systemctl status NAME</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Start service</td>
<td style="text-align: left;"><code>systemctl start NAME</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stop service</td>
<td style="text-align: left;"><code>systemctl stop NAME</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Restart service</td>
<td style="text-align: left;"><code>systemctl restart NAME</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Start at boot</td>
<td style="text-align: left;"><code>systemctl enable NAME</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Don’t start at boot</td>
<td style="text-align: left;"><code>systemctl disable NAME</code></td>
</tr>
</tbody>
</table>
<p>Usually, <em>root permissions</em> required (<code>sudo</code>)</p>
</section>
<section class="slide level2">

<p>Default command: <code>list-units</code></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">List all services</td>
<td style="text-align: left;"><code>systemctl --type=service</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Running services</td>
<td
style="text-align: left;"><code>systemctl --state=running</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Failed services</td>
<td style="text-align: left;"><code>systemctl --failed</code></td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="show-open-socketsports" class="title-slide slide level1">
<h1>Show open sockets/ports</h1>

</section>
<section id="show-sockets-ss" class="slide level2">
<h2>Show sockets: <code>ss</code></h2>
<ul>
<li><code>netstat</code> is obsolete, replaced by <code>ss</code>
<ul>
<li><code>netstat</code> uses <code>/proc/net/tcp</code></li>
<li><code>ss</code> directly queries the kernel</li>
</ul></li>
<li>Similar options</li>
</ul>
</section>
<section id="options" class="slide level2">
<h2>Options</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Show server sockets</td>
<td style="text-align: left;"><code>ss -l</code>,
<code>--listening</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show TCP sockets</td>
<td style="text-align: left;"><code>ss -t</code>,
<code>--tcp</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Show UDP sockets</td>
<td style="text-align: left;"><code>ss -u</code>,
<code>--udp</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show port numbers(*)</td>
<td style="text-align: left;"><code>ss -n</code>,
<code>--numeric</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Show process(†)</td>
<td style="text-align: left;"><code>ss -p</code>,
<code>--processes</code></td>
</tr>
</tbody>
</table>
<p>(*) instead of service names from <code>/etc/services</code></p>
<p>(†) <em>root permissions</em> required</p>
</section>
<section id="example-1" class="slide level2">
<h2>Example</h2>
<pre class="console"><code>$ sudo ss -tlnp
State   Recv-Q Send-Q Local Address:Port Peer Address:Port
LISTEN  0      128                *:22              *:*    users:((&quot;sshd&quot;,pid=1290,fd=3))
LISTEN  0      100        127.0.0.1:25              *:*    users:((&quot;master&quot;,pid=1685,fd=13))
LISTEN  0      128               :::80             :::*    users:((&quot;httpd&quot;,pid=4403,fd=4),(&quot;httpd&quot;,pid=4402,fd=4),(&quot;httpd&quot;,pid=4401,fd=4),(&quot;httpd&quot;,pid=4400,fd=4),(&quot;httpd&quot;,pid=4399,fd=4),(&quot;httpd&quot;,pid=4397,fd=4))
LISTEN  0      128               :::22             :::*    users:((&quot;sshd&quot;,pid=1290,fd=4))
LISTEN  0      100              ::1:25             :::*    users:((&quot;master&quot;,pid=1685,fd=14))
LISTEN  0      128               :::443            :::*    users:((&quot;httpd&quot;,pid=4403,fd=6),(&quot;httpd&quot;,pid=4402,fd=6),(&quot;httpd&quot;,pid=4401,fd=6),(&quot;httpd&quot;,pid=4400,fd=6),(&quot;httpd&quot;,pid=4399,fd=6),(&quot;httpd&quot;,pid=4397,fd=6))</code></pre>
</section></section>
<section>
<section id="system-logs-with-systemd-journald"
class="title-slide slide level1">
<h1>System logs with <code>systemd-journald</code></h1>

</section>
<section id="journalctl" class="slide level2">
<h2><code>journalctl</code></h2>
<ul>
<li><code>journalctl</code> requires <em>root permissions</em>
<ul>
<li>Or, add user to group <code>adm</code> or
<code>systemd-journal</code></li>
</ul></li>
<li>Some “traditional” text-based log files still exist (for now?):
<ul>
<li><code>/var/log/messages</code> (gone in Fedora!)</li>
<li><code>/var/log/httpd/access_log</code> and
<code>error_log</code></li>
<li>…</li>
</ul></li>
</ul>
</section>
<section id="options-1" class="slide level2">
<h2>Options</h2>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Action</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Show latest log and wait for changes</td>
<td style="text-align: left;"><code>journalctl -f</code>,
<code>--follow</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show only log of SERVICE</td>
<td style="text-align: left;"><code>journalctl -u SERVICE</code>,
<code>--unit=SERVICE</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Match executable,
e.g. <code>dhclient</code></td>
<td
style="text-align: left;"><code>journalctl /usr/sbin/dhclient</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Match device node,
e.g. <code>/dev/sda</code></td>
<td style="text-align: left;"><code>journalctl /dev/sda</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Show auditd logs</td>
<td
style="text-align: left;"><code>journalctl _TRANSPORT=audit</code></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level2">

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Action</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Show log since last boot</td>
<td style="text-align: left;"><code>journalctl -b</code>,
<code>--boot</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Kernel messages (like
<code>dmesg</code>)</td>
<td style="text-align: left;"><code>journalctl -k</code>,
<code>--dmesg</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reverse output (newest first)</td>
<td style="text-align: left;"><code>journalctl -r</code>,
<code>--reverse</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show only errors and worse</td>
<td style="text-align: left;"><code>journalctl -p err</code>,
<code>--priority=err</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Since yesterday</td>
<td
style="text-align: left;"><code>journalctl --since=yesterday</code></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level2">

<p>Filter on time (example):</p>
<pre><code>journalctl --since=2018-06-00 \
           --until=&quot;2018-06-07 12:00:00&quot;</code></pre>
<p>Much more options in the man-page!</p>
</section></section>
<section>
<section id="firewall-configuration-with-firewalld"
class="title-slide slide level1">
<h1>Firewall configuration with <code>firewalld</code></h1>

</section>
<section id="zones" class="slide level2">
<h2>Zones</h2>
<ul>
<li>Zone = list of rules to be applied in a specific situation
<ul>
<li>e.g. public (default), home, work, …</li>
</ul></li>
<li>NICs are assigned to zones</li>
<li>For a server, <code>public</code> zone is probably sufficient</li>
</ul>
</section>
<section class="slide level2">

<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">List all zones</td>
<td style="text-align: left;"><code>firewall-cmd --get-zones</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Current active zone</td>
<td
style="text-align: left;"><code>firewall-cmd --get-active-zones</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add interface to active zone</td>
<td
style="text-align: left;"><code>firewall-cmd --add-interface=IFACE</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show current rules</td>
<td style="text-align: left;"><code>firewall-cmd --list-all</code></td>
</tr>
</tbody>
</table>
<p><code>firewall-cmd</code> requires <em>root permissions</em></p>
</section>
<section id="configuring-firewall-rules" class="slide level2">
<h2>Configuring firewall rules</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Allow predefined service</td>
<td
style="text-align: left;"><code>firewall-cmd --add-service=http</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">List predefined services</td>
<td
style="text-align: left;"><code>firewall-cmd --get-services</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Allow specific port</td>
<td
style="text-align: left;"><code>firewall-cmd --add-port=8080/tcp</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Reload rules</td>
<td style="text-align: left;"><code>firewall-cmd --reload</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Block all traffic</td>
<td style="text-align: left;"><code>firewall-cmd --panic-on</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Turn panic mode off</td>
<td style="text-align: left;"><code>firewall-cmd --panic-off</code></td>
</tr>
</tbody>
</table>
</section>
<section id="persistent-changes" class="slide level2">
<h2>Persistent changes</h2>
<ul>
<li><code>--permanent</code> option is not applied immediately!</li>
<li>Two methods:
<ol type="1">
<li>Execute command once without, once with
<code>--permanent</code></li>
<li>Execute command with <code>--permanent</code>, reload rules</li>
</ol></li>
</ul>
<pre class="console"><code>sudo firewall-cmd --add-service=http --permanent
sudo firewall-cmd --add-service=https --permanent
sudo firewall-cmd --reload</code></pre>
</section></section>
<section id="thats-it" class="title-slide slide level1">
<h1>That’s it!</h1>

</section>
    </div>
  </div>

  <script src="reveal.js/dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="reveal.js/plugin/notes/notes.js"></script>
  <script src="reveal.js/plugin/search/search.js"></script>
  <script src="reveal.js/plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
